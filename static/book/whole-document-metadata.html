<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Whole document metadata | 01-rmd.utf8.md</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.13.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Whole document metadata | 01-rmd.utf8.md" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Whole document metadata | 01-rmd.utf8.md" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="using-r-markdown-in-rstudio.html"/>
<link rel="next" href="add-text-with-markdown.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">rmd4medicine</a></li>

<li class="divider"></li>
<li class="part"><span><b>I R Markdown Basics</b></span></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="0.1" data-path="introduction.html"><a href="introduction.html#formative-assessments"><i class="fa fa-check"></i><b>0.1</b> Formative assessments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="basic-anatomy.html"><a href="basic-anatomy.html"><i class="fa fa-check"></i><b>1</b> Basic Anatomy</a></li>
<li class="chapter" data-level="2" data-path="using-r-markdown-in-rstudio.html"><a href="using-r-markdown-in-rstudio.html"><i class="fa fa-check"></i><b>2</b> Using R Markdown in RStudio</a></li>
<li class="chapter" data-level="3" data-path="whole-document-metadata.html"><a href="whole-document-metadata.html"><i class="fa fa-check"></i><b>3</b> Whole document metadata</a><ul>
<li class="chapter" data-level="3.1" data-path="whole-document-metadata.html"><a href="whole-document-metadata.html#all-about-yaml"><i class="fa fa-check"></i><b>3.1</b> All about YAML</a></li>
<li class="chapter" data-level="3.2" data-path="whole-document-metadata.html"><a href="whole-document-metadata.html#changing-output-formats"><i class="fa fa-check"></i><b>3.2</b> Changing output formats</a></li>
<li class="chapter" data-level="3.3" data-path="whole-document-metadata.html"><a href="whole-document-metadata.html#adding-output-options"><i class="fa fa-check"></i><b>3.3</b> Adding output options</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="add-text-with-markdown.html"><a href="add-text-with-markdown.html"><i class="fa fa-check"></i><b>4</b> Add text with Markdown</a><ul>
<li class="chapter" data-level="4.1" data-path="add-text-with-markdown.html"><a href="add-text-with-markdown.html#headers"><i class="fa fa-check"></i><b>4.1</b> Headers</a></li>
<li class="chapter" data-level="4.2" data-path="add-text-with-markdown.html"><a href="add-text-with-markdown.html#text-images"><i class="fa fa-check"></i><b>4.2</b> Text &amp; Images</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="add-code.html"><a href="add-code.html"><i class="fa fa-check"></i><b>5</b> Add code</a></li>
<li class="chapter" data-level="6" data-path="use-chunk-options.html"><a href="use-chunk-options.html"><i class="fa fa-check"></i><b>6</b> Use chunk options</a><ul>
<li class="chapter" data-level="6.1" data-path="use-chunk-options.html"><a href="use-chunk-options.html#how-it-all-works"><i class="fa fa-check"></i><b>6.1</b> How it all works</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="up-rmd.html"><a href="up-rmd.html"><i class="fa fa-check"></i><b>7</b> Uplevel</a><ul>
<li class="chapter" data-level="7.1" data-path="up-rmd.html"><a href="up-rmd.html#adding-output-formats"><i class="fa fa-check"></i><b>7.1</b> Adding output formats</a></li>
<li class="chapter" data-level="7.2" data-path="up-rmd.html"><a href="up-rmd.html#adding-multiple-yaml-keys"><i class="fa fa-check"></i><b>7.2</b> Adding multiple YAML keys</a></li>
<li class="chapter" data-level="7.3" data-path="up-rmd.html"><a href="up-rmd.html#live-preview-without-reknitting"><i class="fa fa-check"></i><b>7.3</b> Live preview without reknitting</a></li>
<li class="chapter" data-level="7.4" data-path="up-rmd.html"><a href="up-rmd.html#beef-up-your-yaml"><i class="fa fa-check"></i><b>7.4</b> Beef up your YAML</a></li>
<li class="chapter" data-level="7.5" data-path="up-rmd.html"><a href="up-rmd.html#knit-with-parameters"><i class="fa fa-check"></i><b>7.5</b> Knit with parameters</a></li>
<li class="chapter" data-level="7.6" data-path="up-rmd.html"><a href="up-rmd.html#knit-from-the-command-line"><i class="fa fa-check"></i><b>7.6</b> Knit from the command line</a></li>
<li class="chapter" data-level="7.7" data-path="up-rmd.html"><a href="up-rmd.html#extend-your-r-markdown"><i class="fa fa-check"></i><b>7.7</b> Extend your R Markdown</a></li>
<li class="chapter" data-level="7.8" data-path="up-rmd.html"><a href="up-rmd.html#r-markdown-templates"><i class="fa fa-check"></i><b>7.8</b> R Markdown templates</a></li>
<li class="chapter" data-level="7.9" data-path="up-rmd.html"><a href="up-rmd.html#git-rmd"><i class="fa fa-check"></i><b>7.9</b> GitHub</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="whole-document-metadata" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Whole document metadata</h1>
<p>You are probably not used to thinking about medical manuscripts as having ‚Äúmetadata‚Äù, but all files have metadata. Some is set for you automatically by your software (right-click on a file on your computer and select ‚ÄúGet Info‚Äù to see some). Others you may set yourself, like in a document‚Äôs filename; think: <code>asd_obesity_2015.Rmd</code>. Other metadata may be present in your directory structure, like:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ex">Documents/</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">‚îî‚îÄ‚îÄ <span class="ex">manuscripts/</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">     ‚îú‚îÄ‚îÄ <span class="ex">autism-treatment-network/</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">     ‚îÇ    ‚îú‚îÄ‚îÄ <span class="ex">asd_aggression_2014.Rmd</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">     ‚îÇ    ‚îú‚îÄ‚îÄ <span class="ex">asd_obesity_2015.Rmd</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">     ‚îÇ    ‚îî‚îÄ‚îÄ <span class="ex">asd_mullen_2019.Rmd</span></a></code></pre></div>
<p>So the file <code>asd_obesity_2015.Rmd</code> was my analysis of data from the Autism Treatment Network for a manuscript on obesity we published in 2015.</p>
<p>When you start working in R Markdown, we try to store metadata <em>inside</em> the document itself. The place to store it is in what is called the YAML header (sometimes called YAML frontmatter), which is the space at the top of your .Rmd that is fenced in by three dashes as delimiters (<code>---</code>) like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="ot">---</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="fu">title:</span><span class="at"> A compelling manuscript</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="fu">author:</span><span class="at"> Alison Hill</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="fu">output:</span><span class="at"> html_document</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="ot">---</span></a></code></pre></div>
<p>What kinds of metadata are useful for medical manuscripts? Think about things you may often add to the header of a Word document you plan to share with other people like collaborators:</p>
<ul>
<li>the <strong>author</strong></li>
<li>the <strong>date</strong> the document was written (or last updated!)</li>
<li>a <strong>title</strong> (perhaps with a <strong>subtitle</strong>) to frame what the document is all about for the reader</li>
</ul>
<p>All of these things are ‚Äúkeys‚Äù we can add to an <code>.Rmd</code> document using the YAML header.</p>
<div id="all-about-yaml" class="section level2">
<h2><span class="header-section-number">3.1</span> All about YAML</h2>
<p>YAML stands for ‚ÄúYAML Ain‚Äôt No Markup Language‚Äù, and you are not the only one to read that and think ‚Äúwell, that is not very helpful at all.‚Äù The most important things to know about YAML are that:</p>
<ol style="list-style-type: decimal">
<li><p>You can only have one YAML per .Rmd document (meaning, there is only one source of metadata for the file, which makes sense!).</p></li>
<li><p>The contents of a YAML are formatted as a series of <code>key: value</code> pairs separated by colons; each key on a new line. In the YAML above, the keys are title, author, and output.</p></li>
<li><p>Indentation matters.<br />
¬†¬†¬†Indentation matters.<br />
¬†¬†¬†¬†¬†Indentation matters.</p></li>
</ol>
<div class="tip">
<p>You can ‚Äúreuse‚Äù the content in your YAML in your text too. For example, using R code, <code>rmarkdown::metadata$title</code> will print:</p>
<p>‚Ä¶in this text, because it is pulling metadata from our book‚Äôs <code>title</code> set in the YAML.</p>
</div>
</div>
<div id="changing-output-formats" class="section level2">
<h2><span class="header-section-number">3.2</span> Changing output formats</h2>
<p>Let‚Äôs focus first on the most important key in our YAML above: the output format. R Markdown comes with a suite of possible <a href="https://rmarkdown.rstudio.com/docs/reference/index.html#section-output-formats">‚Äúoutput formats‚Äù</a> built-in.</p>
<div class="turn">
<h3>
Your turn
</h3>
<p><br>
Change this document‚Äôs output format from <code>html_document</code> to <code>word_document</code>.<br>
Save and üß∂ ‚ÄúKnit to Word‚Äù!</p>
</div>
</div>
<div id="adding-output-options" class="section level2">
<h2><span class="header-section-number">3.3</span> Adding output options</h2>
<p>In YAML, indentation is used to indicate nesting. Why do you need to indent? Usually, you want to add output options for a given output format. Output options can be set in your YAML, but they must be <em>nested</em> under the output format. The spacing here is <em>critical</em> as you won‚Äôt get an error message when you do it wrong- usually your document will ‚Äúknit‚Äù but silently fail.</p>
<div class="side-by-side">
<div class="side1">
<p>On the right, I‚Äôve added some <a href="https://rmarkdown.rstudio.com/docs/reference/html_document.html">options</a> to the <code>html_document</code> format.</p>
<p>We can give the document a table of contents, and make it a <em>floating</em> table of contents, by setting both option arguments to <code>true</code> (the default is <code>false</code>).</p>
<p>Try it out to see what this looks like.</p>
</div>
<div class="side2">
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="ot">---</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="fu">title:</span><span class="at"> A compelling manuscript</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="fu">author:</span><span class="at"> Alison Hill</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="fu">output:</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="fu">html_document:</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">    <span class="fu">toc:</span><span class="at"> true</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    <span class="fu">toc_float:</span><span class="at"> true</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="ot">---</span></a></code></pre></div>
</div>
</div>
<div class="turn">
<h3>
Your turn
</h3>
<p><br>
Word documents can have a table of contents too, but not a floating one. Try adding a <code>toc</code> to your word document output. Save and üß∂ ‚ÄúKnit to Word‚Äù!</p>
</div>
<div class="tip">
<p>You can see output options for each output format on the <a href="https://rmarkdown.rstudio.com/docs/reference/">R Markdown reference page</a>. For example, here are the <a href="https://rmarkdown.rstudio.com/docs/reference/word_document.html">options</a> for word documents. When options are set in the YAML, replace <code>=</code> with <code>:</code> with each key-value pair on a new line.</p>
<p>Watch<br>
¬†¬†your<br><br />
¬†¬†¬†¬†indentation.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="using-r-markdown-in-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="add-text-with-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": false
});
});
</script>

</body>

</html>
